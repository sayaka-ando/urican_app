## users テーブル

| Column             | Type    | Options                   |
| ------------------ | ------- | ------------------------- |
| name               | string  | null: false               |
| email              | string  | null: false  unique: true |
| encrypted_password | string  | null: false               |
| employee_number    | integer | null: false  unique: true |

### Association

- has_many :plans
- has_one :performance

## plans テーブル

| Column        | Type      | Options                      |
| ------------- | --------- | ---------------------------- |
| title         | string    | null: false                  |
| client        | string    | null: false                  |
| price         | integer   | null: false                  |
| client_status_id | integer   | null: false                  |
| sales_status_id  | integer   | null: false                  |
| memo          | text      | null: false                  |
| knowledge     | text      | null: false                  |
| user          | references|null: false, foreign_key: true|

### Association

- belongs_to :user

## performances テーブル

| Column          | Type       | Options                        |
| --------------- | ---------- | ------------------------------ |
| goal            | integer    | null: false                    |
| user            | references | null: false, foreign_key: true |

### Association

- belongs_to :user

# アプリケーション名: urican
- アプリケーション概要:	売上・提案管理、ナレッジ共有
- URL:http://176.32.94.81/
- テスト用アカウント: 社員番号/1234, パスワード/123abc
- 利用方法:新規登録で全ての項目を入力しログイン。それ以降は社員番号とパスワードでログイン。ホーム画面から新規提案を登録する。提案一覧から自分の提案をクリックすると編集・削除ができ、提案ステータスを受注に変更すると一覧・マイページの実績グラフで売上を確認できる。
ページ上部のユーザー名をクリックするとマイページに遷移できる。初めて遷移する場合は目標値の入力を求められる。マイページでは、個人の提案の一覧が確認できる他、目標と売上実績がグラフで可視化され、目標までの差額も確認できる。また、提案入力時に入力したナレッジはナレッジ一覧にて確認できる。
- 目指した課題解決:主に若手の営業員の売上・提案管理ツールとして開発。提案の進捗や目標と実績の差を可視化し、営業行動・管理をシンプルにできるようにした。提案内容にナレッジを記入すれば、ナレッジ画面にも投稿がまとめられるようになり、営業行動とナレッジ共有での入力工数の２度手間を避けながら効率的に組織内で情報共有ができる。

洗い出した要件	
| 機能                                     | 目的                                                                                                                                     | 詳細                                                                                                                                                                                                           | ストーリー(ユースケース)                                                                                                                                                                                                                                                                                               | 
| ---------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | 
| ユーザーログイン機能                     | ユーザーごとにマイページを持てるようにする                                                                                               | 新規登録、ログイン、ログアウト機能                                                                                                                                                                             | ・名前、アドレス、パスワード、社員番号を入力<br>・全ての項目が入力されていないといけない<br>・パスワードは英数混合の６文字以上<br>・社員番号は４桁<br>・メールアドレスは一意性                                                                                                                                     | 
| 提案投稿機能                 | 顧客ごとの売り上げや状況を残すため                                                                                                       | タイトル、顧客名、提案金額、顧客ステータス、売上状況、メモ、ナレッジの入力ができる                                                                                                                             | ・タイトル、顧客名、提案金額、顧客ステータス、売上状況の項目が入力されないといけない<br><br>・顧客ステータスはタブ選択→「新規」「既存」<br><br>・売上状況はタブ選択→「受注」「失注」「提案中」<br><br>・メモ、ナレッジは任意<br><br>・投稿ボタンを押すと一覧ページに戻る<br><br>・ログインユーザー以外は投稿できない | 
| 提案詳細画面                 | 提案情報を確認するため                                                                                                       | タイトル、顧客名、提案金額、顧客ステータス、売上状況、詳細コメントが確認できる。<br>編集画面に遷移できる。                                                                                                     | ・一覧画面から、タイトルをクリックすると詳細ページに遷移する<br>・タイトル、顧客名、提案金額、顧客ステータス、売上状況、詳細コメントが確認できる。<br>・編集・削除ボタンがあり、投稿者にしか表示されない                                                                                                               | 
| 提案・ナレッジ一覧画面                 | 提案の進捗、提案の一覧を確認するため                                                                                         | ・自分の売上げが今いくらか、目標の何％か、残額がいくらかがすぐに分かる。<br>・提案の一覧が表示される。<br>・提案の投稿ができる。<br>・目標の入力ができる<br>・ナレッジ確認ボタンがある | ・合計受注金額が表示される<br>・目標に対しての％が表示される<br>・目標までの残額が表示される<br>・売上状況が受注・失注になると合計金額が変化する<br>・タイトルをクリックすると詳細ページに遷移する<br>・ナレッジボタンを押すとナレッジ一覧画面に遷移する                                                               | 
| 提案編集機能                 | 提案情報を編集するため                                                                                                       | タイトル、顧客名、提案金額、顧客ステータス、売上状況、メモ、ナレッジの入力ができる                                                                                                                             | ・タイトル、顧客名、提案金額、顧客ステータス、売上状況の項目が入力されないといけない<br><br>・顧客ステータスはタブ選択→「新規」「既存」<br><br>・売上状況はタブ選択→「受注」「失注」「提案中」<br><br>・メモ、ナレッジは任意<br><br>・編集ボタンを押すと一覧ページに戻る<br><br>・投稿ユーザー以外は編集できない     | 
| 提案削除機能                 | 提案情報を削除するため                                                                                                       | 提案一覧画面からボタンをクリックすると削除される                                                                                                                                                   | ・ボタンをクリックすると削除される<br><br>・投稿ユーザー以外は編集できない<br>・削除されたら一覧画面に遷移する                                                                                                                                                                                                         | 
| 提案一覧画面２(グラフ化)     | 目標と売上の進捗を可視化できるようにするため                                                                                             | マイページ画面の、目標金額と売上の関係が棒グラフで表示される。                                                                                                                                                       | ・目標は青、実績は赤の棒グラフで表示<br>・目標金額が入力されると青グラフが変化する<br>・提案が受注・失注に変更されると赤グラフが変化する                                                                                                                                                                   | 
| ナレッジ一覧画面                         | <br>他メンバーの働きや顧客情報などの共有が気軽にできるようにするため。<br>提案と別で改めて入力をしなくていいようにするため。 | 提案投稿でナレッジが入力されていた投稿はまとめられ、確認できる。                                                                                                                                   | ・提案、顧客名、提案金額、顧客ステータス、売上状況、ナレッジ、投稿者が表示される                                                                                                                                                                                                                     | 
| 提案一覧画面３(売上状況編集) | 一覧表示で売上状況を編集できるようにするため                                                                                             | 売上状況がタブで変更でき、編集画面に行かなくても、提案中→受注・失注などと編集できる                                                                                                                           | ・売上状況の部分を押すとタブが出現し、受注、失注、提案中を選択・編集できる。<br>・非同期でできると尚よし                                                                                                                                                                                                               | 

 - 実装した機能についてのGIFと説明: 
  - ホーム画面から新規提案を登録する	
  - 提案一覧から自分の提案をクリックすると編集・削除ができる 
  - 提案ステータスを受注に変更すると一覧ページの実績グラフで売上を確認できる
  - ページ上部のユーザー名をクリックするとマイページに遷移できる。（初めて遷移する場合は目標値の入力を求められる）
  - マイページでは、個人の提案の一覧が確認できる他、目標と売上実績がグラフで可視化され、目標までの差額も確認できる
  - 提案入力時に入力したナレッジはナレッジ一覧にて確認できる

- 実装予定の機能: ナレッジへのコメント機能
- データベース設計:	ER図→ https://gyazo.com/5add81091036124377a4c43891abbde2
- ローカルでの動作方法:
<!-- git cloneしてから、ローカルで動作をさせるまでに必要なコマンドを記述しましょう。この時、アプリケーション開発に使用した環境を併記することを忘れないでください（パッケージやRubyのバージョンなど）。 -->
